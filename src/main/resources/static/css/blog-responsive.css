/**
 * blog-responsive.css
 *
 * 역할:
 * - 추가 반응형 처리
 * - 모바일/태블릿/PC별 최적화
 * - 미디어 쿼리 통합 관리
 *
 * 브레이크포인트:
 * - 모바일: ~ 768px
 * - 태블릿: 769px ~ 1024px
 * - PC: 1025px ~
 */

/* ========== 작은 모바일 (~ 480px) ========== */
@media (max-width: 480px) {
    /* 기본 폰트 크기 축소 */
    html {
        font-size: 14px;
    }

    /* About 패널: 패딩 축소 */
    .about-panel {
        padding: 1.5rem 1rem;
    }

    .about-name {
        font-size: var(--font-xl);
    }

    /* 메인 콘텐츠: 패딩 축소 */
    .content-wrapper {
        padding: 1.5rem 1rem;
    }

    /* 페이지 헤더 */
    .page-title {
        font-size: var(--font-2xl);
    }

    /* 포스트 카드: 패딩 축소 */
    .post-card {
        padding: 1.5rem;
    }

    /* Reader Controls: 패딩 축소 */
    .reader-controls {
        padding: 0.75rem 1rem;
    }

    .controls-wrapper {
        gap: 0.75rem;
    }

    .control-btn {
        padding: 0.4rem 0.75rem;
        font-size: var(--font-xs);
    }

    /* Brand 텍스트: 더 작게 */
    .brand-text {
        font-size: 1.5rem;
        letter-spacing: 0.25rem;
    }

    /* 포스트 상세 제목 */
    .post-detail-title {
        font-size: var(--font-2xl);
    }
}

/* ========== 모바일 (481px ~ 768px) ========== */
@media (min-width: 481px) and (max-width: 768px) {
    /* 기본 폰트 크기 */
    html {
        font-size: 15px;
    }

    /* About 패널 */
    .about-panel {
        padding: 2rem 1.5rem;
    }

    /* 포스트 카드 */
    .post-card {
        padding: 1.75rem;
    }
}

/* ========== 태블릿 (769px ~ 1024px) ========== */
@media (min-width: 769px) and (max-width: 1024px) {
    /* About 패널 너비 조정 */
    .about-panel {
        width: 240px;
    }

    /* 메인 콘텐츠 여백 */
    .main-content {
        margin-left: 240px;
    }

    /* Reader Controls 여백 */
    .controls-wrapper {
        margin-left: calc(240px + 1rem);
        gap: 1.5rem;
    }

    /* 포스트 카드 크기 조정 */
    .post-card {
        flex: 0 0 350px;
        width: 350px;
    }

    /* 포스트 리스트 (이미지 모드) */
    .post-list[data-view="image"] {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
}

/* ========== PC (1025px ~) ========== */
@media (min-width: 1025px) {
    /* 넓은 화면: 컨텐츠 최대 너비 확장 */
    .content-wrapper {
        max-width: 1400px;
    }

    /* 포스트 리스트 (이미지 모드) */
    .post-list[data-view="image"] {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 2.5rem;
    }

    /* 포스트 카드 크기 */
    .post-card {
        flex: 0 0 450px;
        width: 450px;
    }
}

/* ========== 큰 PC (1440px ~) ========== */
@media (min-width: 1440px) {
    /* 컨텐츠 최대 너비 더 확장 */
    .content-wrapper {
        max-width: 1600px;
    }

    /* About 패널 너비 확장 */
    .about-panel {
        width: 320px;
    }

    /* 메인 콘텐츠 여백 */
    .main-content {
        margin-left: 320px;
    }

    /* Reader Controls 여백 */
    .controls-wrapper {
        margin-left: calc(320px + 2rem);
    }

    /* 포스트 카드 크기 */
    .post-card {
        flex: 0 0 500px;
        width: 500px;
    }
}

/* ========== 가로 모드 (모바일/태블릿) ========== */
@media (max-width: 1024px) and (orientation: landscape) {
    /* About 패널: 높이 줄이기 */
    .about-panel {
        padding: 1.5rem;
    }

    .about-header {
        margin-bottom: 1rem;
    }

    .about-description {
        margin-bottom: 1rem;
    }

    .about-roles {
        margin-bottom: 1rem;
    }

    /* Brand 텍스트 숨기기 (가로 모드에서는 불필요) */
    .brand-background {
        opacity: 0.5;
    }
}

/* ========== 터치 디바이스 최적화 ========== */
@media (hover: none) and (pointer: coarse) {
    /* 호버 효과 대신 터치 피드백 */
    .post-card:active {
        transform: scale(0.98);
    }

    .control-btn:active {
        transform: scale(0.95);
    }

    .about-link:active {
        background-color: var(--bg-tertiary);
    }

    /* 터치 영역 확대 */
    .control-btn {
        padding: 0.75rem 1.25rem;
    }

    .tag {
        padding: 0.4rem 0.8rem;
    }
}

/* ========== 다크 모드 선호 (시스템 설정) ========== */
@media (prefers-color-scheme: dark) {
    /* 기본값이 다크이므로 변경 없음 */
}

/* ========== 라이트 모드 선호 (시스템 설정) ========== */
@media (prefers-color-scheme: light) {
    /* 사용자가 명시적으로 테마를 선택하지 않았다면 라이트 모드 적용 가능 */
    /* 현재는 JavaScript에서 처리하므로 여기서는 생략 */
}

/* ========== 저사양 디바이스 최적화 ========== */
@media (prefers-reduced-motion: reduce) {
    /* 애니메이션 제거 */
    * {
        animation: none !important;
        transition: none !important;
    }

    /* 브랜드 배경 숨기기 (성능 향상) */
    .brand-background {
        display: none;
    }
}

/* ========== 고해상도 디스플레이 (Retina) ========== */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* 이미지 품질 향상 (필요 시) */
    .post-thumbnail img,
    .post-featured-image img {
        image-rendering: -webkit-optimize-contrast;
    }
}

/* ========== 인쇄 스타일 ========== */
@media print {
    /* About 패널 숨기기 */
    .about-panel {
        display: none;
    }

    /* Brand 배경 숨기기 */
    .brand-background {
        display: none;
    }

    /* Reader Controls 숨기기 */
    .reader-controls {
        display: none;
    }

    /* 메인 콘텐츠 여백 제거 */
    .main-content {
        margin-left: 0;
        padding-bottom: 0;
    }

    /* 링크 URL 표시 */
    a[href]:after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
    }

    /* 페이지 여백 */
    @page {
        margin: 2cm;
    }

    /* 페이지 나누기 */
    .post-card,
    .post-detail h2 {
        page-break-inside: avoid;
    }
}
