<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<body>
    <div th:replace="~{layout/site :: layout(~{::section})}">
        <section>
            <!-- Back to blog -->
            <nav class="pt-4 md:pt-6 mb-8">
                <a th:href="@{/blog}"
                   class="inline-flex items-center gap-1.5 text-sm text-secondary hover:text-[var(--color-link)] transition-colors">
                    <img th:src="@{/icons/arrow-left.svg}" class="h-4 w-4 dark:invert" alt="">
                    Back to blog
                </a>
            </nav>

            <!-- Post header -->
            <header class="mb-10">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight leading-tight mb-4"
                    th:text="${post.title}">
                    Post Title
                </h1>
                <div class="flex flex-wrap items-center gap-3 text-sm text-secondary">
                    <!-- Date -->
                    <time th:datetime="${post.date}"
                          th:text="${#temporals.format(post.date, 'yyyy-MM-dd')}">
                        2025-01-15
                    </time>
                    <!-- Category pill -->
                    <a th:href="@{/blog/categories/{category}(category=${post.category})}"
                       class="px-2.5 py-0.5 rounded-full bg-soft border border-theme text-xs hover:border-[var(--color-link)] hover:text-[var(--color-link)] transition-colors"
                       th:text="${post.category}">
                        SPRING
                    </a>
                    <!-- Tags -->
                    <div th:if="${post.tags != null and !post.tags.isEmpty()}" class="flex items-center gap-2 flex-wrap">
                        <a th:each="tag : ${post.tags}"
                           th:href="@{/blog/tags/{tag}(tag=${tag})}"
                           class="text-xs text-secondary hover:text-[var(--color-link)] transition-colors"
                           th:text="'#' + ${tag}">
                            #Docker
                        </a>
                    </div>
                </div>
            </header>

            <!-- Featured image -->
            <div th:if="${post.thumbnailUrl != null}" class="mb-10">
                <img th:src="${post.thumbnailUrl}"
                     th:alt="${post.title}"
                     class="w-full rounded-lg"
                     loading="lazy">
            </div>

            <!-- Post content: reading mode (scoped typography) -->
            <div class="reading">
                <article class="prose dark:prose-invert mx-auto"
                         th:utext="${postHtml}">
                    <h2>Getting Started</h2>
                    <p>Post content goes here...</p>
                </article>
            </div>

            <!-- Post footer -->
            <footer class="mt-12 pt-8 border-t border-theme">
                <!-- Summary -->
                <div th:if="${post.summary != null}" class="mb-8">
                    <h3 class="text-sm font-medium text-secondary uppercase tracking-wider mb-2">Summary</h3>
                    <p class="text-secondary leading-relaxed" th:text="${post.summary}">
                        Summary of the post.
                    </p>
                </div>

                <!-- Feedback -->
                <div class="mb-8">
                    <h3 class="text-sm font-medium text-secondary uppercase tracking-wider mb-2">Feedback</h3>
                    <p class="text-sm text-secondary">
                        Found an error or have suggestions?
                        <a href="https://github.com/hot-gamja/issues" target="_blank" rel="noopener noreferrer"
                           class="underline underline-offset-2 decoration-[var(--color-border)] hover:decoration-current transition-colors">
                            Open an issue
                        </a>
                        or
                        <a href="mailto:hotgamja@example.com"
                           class="underline underline-offset-2 decoration-[var(--color-border)] hover:decoration-current transition-colors">
                            send an email
                        </a>.
                    </p>
                </div>
            </footer>

            <!-- Related posts -->
            <section th:if="${relatedPosts != null and !relatedPosts.isEmpty()}"
                     class="mt-8 pt-8 border-t border-theme">
                <h2 class="text-sm font-medium text-secondary uppercase tracking-wider mb-6">
                    Related Posts
                </h2>
                <div class="space-y-1">
                    <article th:each="related : ${relatedPosts}">
                        <a th:href="@{/blog/posts/{slug}(slug=${related.slug})}"
                           class="group block py-4 -mx-3 px-3 rounded-lg nav-hover transition-colors">
                            <div class="flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-4">
                                <time class="text-sm text-secondary tabular-nums shrink-0 sm:w-24"
                                      th:datetime="${related.date}"
                                      th:text="${#temporals.format(related.date, 'yyyy-MM-dd')}">
                                    2025-01-20
                                </time>
                                <div class="flex-1 min-w-0">
                                    <h3 class="text-base font-medium group-hover:text-[var(--color-link)] transition-colors truncate"
                                        style="color: var(--color-text);"
                                        th:text="${related.title}">
                                        Related Post Title
                                    </h3>
                                    <p th:if="${related.description}"
                                       class="text-sm text-secondary mt-0.5 line-clamp-1"
                                       th:text="${related.description}">
                                        Description
                                    </p>
                                </div>
                            </div>
                        </a>
                    </article>
                </div>
            </section>
        </section>
    </div>
</body>
</html>
