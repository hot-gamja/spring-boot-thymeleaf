<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      data-font-size="M"
      data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!--
        페이지 제목
        Controller에서 model.addAttribute("pageTitle", "...")로 전달한 값 사용
        없으면 기본값 표시
    -->
    <title th:text="${pageTitle} ?: 'HOT GAMJA LAB - 기술 블로그'">HOT GAMJA LAB</title>

    <!-- 메타 태그 (SEO) -->
    <meta name="description" content="개발 공부와 프로젝트를 기록하는 기술 블로그">
    <meta name="author" content="HOT GAMJA">

    <!-- CSS 파일들 (나중에 만들 예정) -->
    <link rel="stylesheet" th:href="@{/css/blog-base.css}">
    <link rel="stylesheet" th:href="@{/css/blog-layout.css}">
    <link rel="stylesheet" th:href="@{/css/blog-post.css}">
    <link rel="stylesheet" th:href="@{/css/blog-responsive.css}">

    <!--
        th:href="@{/css/blog-base.css}"의 의미:
        - @{...}: Thymeleaf의 URL 표현식
        - Spring Boot는 /css/... 경로를 자동으로 /static/css/...에 매핑
    -->
</head>
<body>
    <!--
        전체 레이아웃 구조:

        1. About 패널 (좌측/상단 고정)
        2. Brand Background (배경 텍스트)
        3. Main Content (메인 콘텐츠 영역 - 각 페이지에서 교체)
        4. Reader Controls (하단 고정)
    -->

    <!-- 전체 컨테이너 -->
    <div class="blog-container">
        <!-- About 패널 (Fragment 삽입) -->
        <div th:replace="~{blog-fragments/about :: about-panel}"></div>

        <!-- Brand Background (Fragment 삽입) -->
        <div th:replace="~{blog-fragments/brand-background :: brand-bg}"></div>

        <!-- 메인 콘텐츠 영역 -->
        <main class="main-content">
            <!--
                여기가 각 페이지의 본문이 들어갈 자리

                Thymeleaf Layout Dialect 대신 간단한 방식 사용:
                - 각 페이지(index.html, post-detail.html)에서
                  이 layout.html을 복사하고
                  <main> 안쪽만 교체하는 방식

                또는 th:block을 사용한 방식:
                - th:fragment="content"로 정의
                - 각 페이지에서 th:replace로 교체
            -->
            <div class="content-wrapper">
                <!--
                    실제 콘텐츠는 index.html, post-detail.html에서 작성
                    여기는 기본 레이아웃 뼈대만 정의
                -->
                <th:block th:fragment="content">
                    <!-- 각 페이지에서 이 부분을 교체 -->
                </th:block>
            </div>
        </main>

        <!-- Reader Controls (Fragment 삽입) -->
        <div th:replace="~{blog-fragments/reader-controls :: controls}"></div>
    </div>

    <!-- JavaScript 파일들 (나중에 만들 예정) -->
    <script th:src="@{/js/reader-controls.js}"></script>
    <script th:src="@{/js/scroll-horizontal.js}"></script>

    <!--
        설명:
        1. <html> 태그에 data-font-size, data-theme 속성
           - JavaScript에서 이 속성을 변경하면 CSS가 반응

        2. Fragment 사용 방법:
           - th:replace: 해당 태그를 완전히 교체
           - th:insert: 해당 태그 안쪽에 삽입
           - ~{파일경로 :: fragment이름}

        3. 정적 리소스 경로:
           - th:href="@{/css/...}": /static/css/...
           - th:src="@{/js/...}": /static/js/...

        4. Layout 재사용:
           - 각 페이지는 이 layout.html을 기반으로 작성
           - <main> 영역만 각 페이지 고유의 내용으로 채움
    -->
</body>
</html>
